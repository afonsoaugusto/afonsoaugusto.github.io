<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{{ page.title }} | {{ site.title }}</title>
  {% seo %}

  <style>
    /* --- CSS Variables (Theme) --- */
    :root {
      --font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
      --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;

      --color-bg: #f8fafc;
      --color-text: #1f2937;
      --color-text-muted: #6b7280;
      --color-primary: #2563eb;
      --color-primary-hover: #1d4ed8;
      --color-border: #e5e7eb;
      --color-card-bg: #ffffff;
      --color-header-bg: #111827;
      --color-header-text: #f9fafb;
      --color-code-bg: #f3f4f6;
      --color-toc-border: var(--color-primary);

      --spacing-sm: 0.5rem;
      --spacing-md: 1rem;
      --spacing-lg: 1.5rem;
      --spacing-xl: 2rem;

      --border-radius: 0.5rem;
      --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    }

    /* --- Base & Reset --- */
    *, *::before, *::after { box-sizing: border-box; }
    html, body { max-width: 100%; overflow-x: hidden; }
    body {
      font-family: var(--font-sans);
      margin: 0;
      background-color: var(--color-bg);
      color: var(--color-text);
      line-height: 1.6;
    }
    a { color: var(--color-primary); text-decoration: none; transition: color 0.2s ease; }
    a:hover { color: var(--color-primary-hover); text-decoration: underline; }
    img { max-width: 100%; height: auto; display: block; }
    h1, h2, h3, h4, h5, h6 { margin-top: var(--spacing-lg); margin-bottom: var(--spacing-md); line-height: 1.3; font-weight: 600; }
    h1 { font-size: 2.25em; }
    h2 { font-size: 1.75em; border-bottom: 1px solid var(--color-border); padding-bottom: var(--spacing-sm); }
    h3 { font-size: 1.35em; }

    /* --- Header & Footer --- */
    .site-header, .site-footer {
      background-color: var(--color-header-bg);
      color: var(--color-header-text);
      padding: var(--spacing-md) var(--spacing-lg);
    }
    .site-header { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; }
    .site-title a { color: #ffffff; font-size: 1.5rem; font-weight: bold; text-decoration: none; }
    .site-title a:hover { color: var(--color-primary); }
    .site-nav ul { list-style: none; padding: 0; margin: 0; display: flex; gap: var(--spacing-md); }
    .site-nav a { color: var(--color-text-muted); font-weight: 500; }
    .site-nav a:hover { color: #ffffff; }
    .site-footer { text-align: center; margin-top: var(--spacing-xl); font-size: 0.9rem; color: var(--color-text-muted); }

    /* --- Main Layout --- */
    .main-content { display: flex; flex-direction: column; gap: var(--spacing-lg); max-width: 1200px; margin: var(--spacing-xl) auto; padding: 0 var(--spacing-md); }

    /* --- Table of Contents (TOC) --- */
    .toc-wrapper { position: relative; }
    #toc-toggle { /* mobile toggle */ width: 100%; background: var(--color-primary); color: #fff; border: none; padding: var(--spacing-sm) var(--spacing-md); border-radius: var(--border-radius); cursor: pointer; margin-bottom: var(--spacing-md); font-weight: 500; text-align: center; }
    #toc-toggle:hover { background: var(--color-primary-hover); }
    #toc { background: var(--color-card-bg); padding: var(--spacing-md); border-left: 4px solid var(--color-toc-border); border-radius: var(--border-radius); box-shadow: var(--shadow); max-height: 0; overflow: hidden; transition: max-height 0.4s ease-out, opacity 0.4s ease-out, padding 0.4s ease-out; opacity: 0; }
    #toc.open { max-height: 60vh; opacity: 1; padding: var(--spacing-md); overflow-y: auto; }
    #toc strong { display: block; margin-bottom: var(--spacing-md); font-weight: 600; color: var(--color-text); }
    #toc ul { list-style: none; padding: 0; margin: 0; }
    #toc li { margin-bottom: var(--spacing-sm); }
    #toc a { color: var(--color-text-muted); font-size: 0.95rem; display: block; }
    #toc a:hover { color: var(--color-primary); text-decoration: none; }
    #toc li.level-h3 { padding-left: var(--spacing-md); }

    /* --- Post Content Area --- */
    .post-content { background: var(--color-card-bg); padding: var(--spacing-xl); border-radius: var(--border-radius); box-shadow: var(--shadow); flex-grow: 1; min-width: 0; overflow-wrap: break-word; word-wrap: break-word; word-break: break-word; }
    .post-header { margin-bottom: var(--spacing-lg); border-bottom: 1px solid var(--color-border); padding-bottom: var(--spacing-lg); }
    .post-title { margin-top: 0; margin-bottom: var(--spacing-sm); color: var(--color-text); }
    .post-meta { color: var(--color-text-muted); font-size: 0.9rem; }
    .post-content > *:first-child { margin-top: 0; }
    .post-content p { margin-bottom: var(--spacing-md); }
    .post-content blockquote { margin: var(--spacing-md) 0; padding: var(--spacing-md) var(--spacing-lg); border-left: 4px solid var(--color-primary); background: var(--color-code-bg); color: var(--color-text-muted); font-style: italic; }
    .post-content code:not(pre > code) { background: var(--color-code-bg); padding: 0.2em 0.4em; margin: 0 0.1em; font-size: 85%; border-radius: 3px; font-family: var(--font-mono); color: #c53030; }
    .post-content pre { background: var(--color-header-bg); color: var(--color-header-text); padding: var(--spacing-md); border-radius: var(--border-radius); overflow-x: auto; margin: var(--spacing-lg) 0; font-family: var(--font-mono); font-size: 0.9rem; line-height: 1.5; }
    .post-content pre code { background: transparent; padding: 0; margin: 0; font-size: inherit; color: inherit; }
    .post-content ul, .post-content ol { padding-left: var(--spacing-lg); margin-bottom: var(--spacing-md); }

    /* --- Responsive Tables --- */
    .post-content table {
      width: 100%;
      display: block;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      border-collapse: collapse;
      margin-bottom: var(--spacing-lg);
    }
    .post-content table th,
    .post-content table td {
      padding: var(--spacing-sm) var(--spacing-md);
      border: 1px solid var(--color-border);
      white-space: normal;
      min-width: 120px;
    }
    .post-content table tr:nth-child(even) {
      background-color: var(--color-code-bg);
    }

    /* --- Responsive Design --- */
    @media (min-width: 768px) { .main-content { padding: 0 var(--spacing-lg); } }
    @media (min-width: 1024px) {
      .main-content { flex-direction: row; align-items: flex-start; }
      .toc-wrapper { width: 280px; flex-shrink: 0; }
      #toc-toggle { display: none; }
      #toc { position: sticky; top: var(--spacing-xl); max-height: calc(100vh - 4 * var(--spacing-xl)); overflow-y: auto; opacity: 1; padding: var(--spacing-md); margin-bottom: 0; }
    }
  </style>
</head>
<body>
  <header class="site-header">...
  <!-- (o restante do template permanece inalterado) -->
</body>
</html>